{"ast":null,"code":"import _classCallCheck from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\src\\\\pages\\\\staff\\\\Staff.js\";\nimport React from \"react\";\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Table, Button } from \"reactstrap\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport s from \"./Dashboard.module.scss\";\nimport Widget from \"../../components/Widget\";\nimport stocksImg from \"../../images/stocks.svg\";\nimport { fetchUsers, createUser, getUser, updateUser, deleteUser } from \"../../actions/user\";\nimport ReactQuill from 'react-quill';\nimport { toast, ToastContainer } from 'react-toastify';\n\nvar validator = require(\"email-validator\");\n\nvar Staff = /*#__PURE__*/function (_React$Component) {\n  _inherits(Staff, _React$Component);\n\n  function Staff() {\n    var _this;\n\n    _classCallCheck(this, Staff);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Staff).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"createUser\", function (event) {\n      event.preventDefault();\n\n      if (_this.state.fname === '' || _this.state.lname === '' || _this.state.email === '' || _this.state.number === '') {\n        toast.error(\"Please enter all the fields!\");\n      } else if (validator.validate(_this.state.email) === false) {\n        toast.error(\"Please enter a valid email address!\");\n      } else if (_this.state.number.length !== 10) {\n        toast.error(\"Please enter a 10-digit mobile number!\");\n      } else {\n        if (_this.props.user == null) {\n          if (_this.state.password === '') {\n            toast.error(\"Please enter password field!\");\n          } else if (_this.state.password !== _this.state.confirm_password) {\n            toast.error(\"Both passwords should match!\");\n          } else {\n            _this.props.dispatch(createUser({\n              fname: _this.state.fname,\n              lname: _this.state.lname,\n              email: _this.state.email,\n              number: _this.state.number,\n              password: _this.state.password,\n              user_type: 'staff',\n              type: 'offline'\n            }));\n          }\n        } else {\n          _this.props.dispatch(updateUser({\n            id: _this.state.id,\n            fname: _this.state.fname,\n            lname: _this.state.lname,\n            email: _this.state.email,\n            number: _this.state.number\n          }));\n        }\n\n        _this.setState({\n          modal: false\n        });\n      }\n\n      _this.setState({\n        title: '',\n        description: '',\n        imgurl: '',\n        id: 0,\n        fname: '',\n        lname: '',\n        email: '',\n        number: '',\n        password: '',\n        confirm_password: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFNameChange\", function (event) {\n      _this.setState({\n        fname: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLNameChange\", function (event) {\n      _this.setState({\n        lname: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEmailChange\", function (event) {\n      _this.setState({\n        email: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNumberChange\", function (event) {\n      _this.setState({\n        number: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPasswordChange\", function (event) {\n      _this.setState({\n        password: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onConfirmPasswordChange\", function (event) {\n      _this.setState({\n        confirm_password: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggle\", function () {\n      _this.setState({\n        title: '',\n        description: '',\n        is_create: true,\n        imgurl: '',\n        id: 0,\n        fname: '',\n        lname: '',\n        email: '',\n        number: '',\n        password: '',\n        confirm_password: ''\n      });\n\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEdit\", function (event, id) {\n      event.preventDefault();\n\n      _this.props.dispatch(getUser({\n        id: id\n      }));\n\n      _this.setState({\n        modal: true,\n        is_create: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDelete\", function (event, id) {\n      event.preventDefault();\n\n      if (window.confirm(\"Delete the item?\")) {\n        _this.props.dispatch(deleteUser({\n          id: id\n        }));\n      }\n    });\n\n    _this.state = {\n      modal: false,\n      id: 0,\n      is_create: false,\n      fname: '',\n      lname: '',\n      email: '',\n      number: '',\n      password: '',\n      confirm_password: ''\n    };\n    return _this;\n  }\n\n  _createClass(Staff, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(fetchUsers('staff'));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          users = _this$props.users,\n          user = _this$props.user;\n      console.log(\"userrrrr\", users); // console.log(\"userrrrr\", this.state);\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: s.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ToastContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 4,\n        style: {\n          paddingBottom: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, \"Create\"), ' ')), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }\n      }, users.length > 0 ? /*#__PURE__*/React.createElement(Widget, {\n        title: /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontWeight: 700\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 22\n          }\n        }, \"Staff\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"fs-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"hidden-sm-down\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }\n      }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"hidden-sm-down\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"hidden-sm-down\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"hidden-sm-down\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }, \"Contact Number\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }\n      }, users.map(function (row) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: row.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 23\n          }\n        }, row.id), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 23\n          }\n        }, row.first_name, \"  \", row.last_name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 23\n          }\n        }, row.email), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 23\n          }\n        }, row.number), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          onClick: function onClick(event) {\n            return _this2.onEdit(event, row.id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: require(\"../../images/edit.png\"),\n          width: \"20\",\n          height: \"25\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 74\n          }\n        })), /*#__PURE__*/React.createElement(\"a\", {\n          onClick: function onClick(event) {\n            return _this2.onDelete(event, row.id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: require(\"../../images/delete.png\"),\n          width: \"40\",\n          height: \"25\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 76\n          }\n        }))));\n      })))) : /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontWeight: 700\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }\n      }, \"NO DATA FOUND\"))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }\n      }, this.state.is_create == true ? \"Register Staff\" : \"Edit Staff\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 19\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        className: \"form-control\",\n        id: \"email\",\n        value: this.state.email,\n        onChange: function onChange(event) {\n          return _this2.onEmailChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"fname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 19\n        }\n      }, \"FirstName\"), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        className: \"form-control\",\n        id: \"fname\",\n        value: this.state.fname,\n        onChange: function onChange(event) {\n          return _this2.onFNameChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"lname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 19\n        }\n      }, \"LastName\"), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        className: \"form-control\",\n        id: \"lname\",\n        value: this.state.lname,\n        onChange: function onChange(event) {\n          return _this2.onLNameChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 19\n        }\n      }, \"Contact Number\"), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        className: \"form-control\",\n        id: \"number\",\n        value: this.state.number,\n        onChange: function onChange(event) {\n          return _this2.onNumberChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 19\n        }\n      }))), this.state.id == 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 19\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        type: \"password\",\n        className: \"form-control\",\n        id: \"password\",\n        value: this.state.password,\n        onChange: function onChange(event) {\n          return _this2.onPasswordChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"confirm-password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 19\n        }\n      }, \"Confirm-Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        type: \"password\",\n        className: \"form-control\",\n        id: \"confirm-password\",\n        value: this.state.confirm_password,\n        onChange: function onChange(event) {\n          return _this2.onConfirmPasswordChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 19\n        }\n      })))) : '')), /*#__PURE__*/React.createElement(ModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: function onClick(event) {\n          return _this2.createUser(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }\n      }, this.state.is_create == true ? \"Create\" : \"Update\"), ' ', /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }\n      }, \"Cancel\"))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.user != null && nextProps.edit == true && prevState.id != nextProps.user.id && prevState.is_create == false) {\n        return {\n          id: nextProps.user.id,\n          fname: nextProps.user.first_name,\n          lname: nextProps.user.last_name,\n          email: nextProps.user.email,\n          number: nextProps.user.number\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Staff;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.auth.users,\n    user: state.auth.user,\n    edit: state.auth.edit\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Staff));","map":{"version":3,"sources":["D:/30-12/setup 2 new/final file/src/pages/staff/Staff.js"],"names":["React","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Table","Button","withRouter","Redirect","Link","connect","axios","s","Widget","fetchUsers","createUser","getUser","updateUser","deleteUser","ReactQuill","toast","ToastContainer","validator","require","Staff","event","preventDefault","state","fname","lname","email","number","error","validate","length","props","user","password","confirm_password","dispatch","user_type","type","id","setState","modal","title","description","imgurl","target","value","is_create","window","confirm","users","console","log","root","paddingBottom","toggle","fontWeight","map","row","first_name","last_name","onEdit","onDelete","onEmailChange","onFNameChange","onLNameChange","onNumberChange","onPasswordChange","onConfirmPasswordChange","nextProps","prevState","edit","Component","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter,  Table, Button } from \"reactstrap\";\r\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport s from \"./Dashboard.module.scss\";\r\nimport Widget from \"../../components/Widget\";\r\nimport stocksImg from \"../../images/stocks.svg\";\r\nimport { fetchUsers, createUser, getUser, updateUser, deleteUser } from \"../../actions/user\";\r\nimport ReactQuill from 'react-quill';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nvar validator = require(\"email-validator\");\r\n\r\nclass Staff extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      modal: false,\r\n      id: 0,\r\n      is_create: false,\r\n      fname: '',\r\n      lname: '',\r\n      email: '',\r\n      number: '',\r\n      password: '',\r\n      confirm_password: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(fetchUsers('staff'));\r\n  }\r\n\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if ( nextProps.user != null && nextProps.edit == true && prevState.id != nextProps.user.id && prevState.is_create == false ) {\r\n      return {\r\n        id: nextProps.user.id,\r\n        fname: nextProps.user.first_name,\r\n        lname: nextProps.user.last_name,\r\n        email: nextProps.user.email,\r\n        number: nextProps.user.number,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  createUser = (event) => {\r\n    event.preventDefault();\r\n      if (this.state.fname==='' || this.state.lname==='' || this.state.email==='' || this.state.number==='') {\r\n        toast.error(\"Please enter all the fields!\");\r\n      }else if (validator.validate(this.state.email)===false) {\r\n        toast.error(\"Please enter a valid email address!\");\r\n      }else if (this.state.number.length!==10) {\r\n        toast.error(\"Please enter a 10-digit mobile number!\");\r\n      }\r\n      else {\r\n          if(this.props.user == null){\r\n            if (this.state.password ==='') {\r\n                toast.error(\"Please enter password field!\");\r\n              }else if (this.state.password!==this.state.confirm_password) {\r\n               toast.error(\"Both passwords should match!\");\r\n             }else{\r\n          this.props.dispatch(createUser({fname: this.state.fname, lname: this.state.lname, email: this.state.email, number: this.state.number, password: this.state.password, user_type: 'staff', type: 'offline'}));\r\n          }\r\n          }else{\r\n            this.props.dispatch(updateUser({id: this.state.id, fname: this.state.fname, lname: this.state.lname, email: this.state.email, number: this.state.number}));\r\n          }\r\n          this.setState({ modal: false })\r\n      }\r\n\r\n      this.setState({\r\n        title: '',\r\n        description: '',\r\n        imgurl: '',\r\n        id: 0,\r\n        fname: '',\r\n        lname: '',\r\n        email: '',\r\n        number: '',\r\n        password: '',\r\n        confirm_password: ''\r\n      })\r\n\r\n  }\r\n\r\n  onFNameChange = event => {\r\n    this.setState({ fname: event.target.value})\r\n  }\r\n  onLNameChange = event => {\r\n    this.setState({ lname: event.target.value})\r\n  }\r\n  onEmailChange = event => {\r\n    this.setState({ email: event.target.value})\r\n  }\r\n  onNumberChange = event => {\r\n    this.setState({ number: event.target.value})\r\n  }\r\n  onPasswordChange = event => {\r\n    this.setState({ password: event.target.value})\r\n  }\r\n  onConfirmPasswordChange = event => {\r\n    this.setState({ confirm_password: event.target.value})\r\n  }\r\n\r\n\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      title: '',\r\n      description: '',\r\n      is_create: true,\r\n      imgurl: '',\r\n      id: 0,\r\n      fname: '',\r\n      lname: '',\r\n      email: '',\r\n      number: '',\r\n      password: '',\r\n      confirm_password: ''\r\n    })\r\n    this.setState({ modal: !this.state.modal})\r\n  }\r\n\r\n  onEdit = (event, id) => {\r\n    event.preventDefault();\r\n    this.props.dispatch(getUser({id: id}));\r\n    this.setState({ modal: true, is_create: false })\r\n  }\r\n\r\n  onDelete = (event, id) => {\r\n    event.preventDefault();\r\n    if (window.confirm(\"Delete the item?\")) {\r\n      this.props.dispatch(deleteUser({id: id}));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { users, user } = this.props;\r\n    console.log(\"userrrrr\", users);\r\n    // console.log(\"userrrrr\", this.state);\r\n    return (\r\n      <div className={s.root}>\r\n      <ToastContainer />\r\n        <Row>\r\n          <Col xl={4} style={{ paddingBottom: '10px' }}>\r\n            <Button color=\"primary\" onClick={this.toggle}>Create</Button>{' '}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xl={12}>\r\n          {users.length >0 ?\r\n            <Widget\r\n              title={<p style={{ fontWeight: 700 }}>Staff</p>}\r\n            >\r\n              <Table responsive>\r\n                <thead>\r\n                  <tr className=\"fs-sm\">\r\n                    <th className=\"hidden-sm-down\">#</th>\r\n                    <th className=\"hidden-sm-down\">Name</th>\r\n                    <th className=\"hidden-sm-down\">Email</th>\r\n                    <th className=\"hidden-sm-down\">Contact Number</th>\r\n                    <th />\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users.map(row => (\r\n                    <tr key={row.id}>\r\n                      <td>{row.id}</td>\r\n                      <td>\r\n                        {row.first_name}  {row.last_name}\r\n                      </td>\r\n                      <td>\r\n                        {row.email}\r\n                      </td>\r\n                      <td>\r\n                        {row.number}\r\n                      </td>\r\n                      <td>\r\n                        <a onClick={event => this.onEdit(event, row.id)}><img src={require(\"../../images/edit.png\")} width=\"20\" height=\"25\" /></a>\r\n                        <a onClick={event => this.onDelete(event, row.id)}><img src={require(\"../../images/delete.png\")} width=\"40\" height=\"25\"/></a>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Widget>\r\n            : <p style={{ fontWeight: 700 }}>NO DATA FOUND</p> }\r\n          </Col>\r\n        </Row>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle} >\r\n          <ModalHeader toggle={this.toggle}>\r\n          {this.state.is_create == true ? \"Register Staff\" : \"Edit Staff\"}</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xl={6}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <input autoComplete=\"off\" className=\"form-control\" id=\"email\"  value={ this.state.email} onChange={(event) => this.onEmailChange(event)}/>\r\n                </div>\r\n              </Col>\r\n              <Col xl={6}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"fname\">FirstName</label>\r\n                  <input autoComplete=\"off\" className=\"form-control\" id=\"fname\"  value={ this.state.fname} onChange={(event) => this.onFNameChange(event)}/>\r\n                </div>\r\n              </Col>\r\n              <Col xl={6}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"lname\">LastName</label>\r\n                  <input autoComplete=\"off\" className=\"form-control\" id=\"lname\"  value={ this.state.lname} onChange={(event) => this.onLNameChange(event)}/>\r\n                </div>\r\n              </Col>\r\n              <Col xl={6}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"number\">Contact Number</label>\r\n                  <input autoComplete=\"off\" className=\"form-control\" id=\"number\"  value={ this.state.number} onChange={(event) => this.onNumberChange(event)}  />\r\n                </div>\r\n              </Col>\r\n              { this.state.id == 0 ?\r\n                <>\r\n              <Col xl={6}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <input autoComplete=\"off\" type=\"password\" className=\"form-control\" id=\"password\"  value={ this.state.password} onChange={(event) => this.onPasswordChange(event)}/>\r\n                </div>\r\n              </Col>\r\n              <Col xl={6}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"confirm-password\">Confirm-Password</label>\r\n                  <input autoComplete=\"off\" type=\"password\" className=\"form-control\" id=\"confirm-password\"  value={ this.state.confirm_password} onChange={(event) => this.onConfirmPasswordChange(event)}/>\r\n                </div>\r\n              </Col>\r\n              </> : '' }\r\n              </Row>\r\n            </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"primary\" onClick={(event) => this.createUser(event)}>\r\n            {this.state.is_create == true ? \"Create\" : \"Update\"}</Button>{' '}\r\n            <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.auth.users,\r\n  user: state.auth.user,\r\n  edit: state.auth.edit\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Staff));\r\n"]},"metadata":{},"sourceType":"module"}