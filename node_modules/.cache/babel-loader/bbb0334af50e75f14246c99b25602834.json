{"ast":null,"code":"import config from \"../config.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport var FETCH_APPOINMENT_BEGIN = 'FETCH_APPOINMENT_BEGIN';\nexport var FETCH_APPOINMENT_SUCCESS = 'FETCH_APPOINMENT_SUCCESS';\nexport var EDIT_APPOINMENT_SUCCESS = 'EDIT_APPOINMENT_SUCCESS';\nexport var FETCH_APPOINMENT_FAILURE = 'FETCH_APPOINMENT_FAILURE';\nexport var CREATE_APPOINMENT_SUCCESS = 'CREATE_APPOINMENT_SUCCESS';\nexport var UPDATE_APPOINMENT_SUCCESS = 'UPDATE_APPOINMENT_SUCCESS';\nexport var DELETE_APPOINMENT_SUCCESS = 'DELETE_APPOINMENT_SUCCESS';\nexport var fetchAppoinmentBegin = function fetchAppoinmentBegin() {\n  return {\n    type: FETCH_APPOINMENT_BEGIN\n  };\n};\nexport var fetchAppoinmentSuccess = function fetchAppoinmentSuccess(appoinments) {\n  return {\n    type: FETCH_APPOINMENT_SUCCESS,\n    payload: {\n      appoinments\n    }\n  };\n};\nexport var updateAppoinmentSuccess = function updateAppoinmentSuccess(appoinment) {\n  return {\n    type: UPDATE_APPOINMENT_SUCCESS,\n    payload: {\n      appoinment\n    }\n  };\n};\nexport var createAppoinmentSuccess = function createAppoinmentSuccess(appoinment) {\n  return {\n    type: CREATE_APPOINMENT_SUCCESS,\n    payload: {\n      appoinment\n    }\n  };\n};\nexport var deleteAppoinmentSuccess = function deleteAppoinmentSuccess(appoinment_id) {\n  return {\n    type: DELETE_APPOINMENT_SUCCESS,\n    payload: {\n      appoinment_id\n    }\n  };\n};\nexport var editAppoinmentSuccess = function editAppoinmentSuccess(appoinment) {\n  return {\n    type: EDIT_APPOINMENT_SUCCESS,\n    payload: {\n      appoinment\n    }\n  };\n};\nexport var fetchAppoinmentFailure = function fetchAppoinmentFailure(error) {\n  return {\n    type: FETCH_APPOINMENT_FAILURE,\n    payload: {\n      error\n    }\n  };\n};\nexport function fetchAppoinment() {\n  return function (dispatch) {\n    axios.get(config.baseURLApi + 'get_appoinments').then(function (response) {\n      dispatch(fetchAppoinmentSuccess(response.data.data));\n    }).catch(function (error) {\n      dispatch(fetchAppoinmentFailure(error));\n    });\n  };\n}\nexport function createAppoinment(data) {\n  var _this = this;\n\n  console.log(data);\n  console.log(config.baseURLApi + \"create_appoinment\");\n  return function (dispatch) {\n    var self = _this;\n    axios.post(config.baseURLApi + 'create_appoinment', {\n      patient_id: data.patient_id,\n      doctor_id: data.doctor_id,\n      date: data.date,\n      time: data.time,\n      interval_time: data.interval_time\n    }).then(function (response) {\n      Swal.fire({\n        icon: 'success',\n        type: 'success',\n        text: 'New Appoinment added successfully!',\n        showConfirmButton: true,\n        timer: 3500\n      });\n      dispatch(createAppoinmentSuccess(response.data.appoinment)); // window.location.assign('/');\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchAppoinmentFailure(error));\n    });\n  };\n}\nexport function updateAppoinment(data) {\n  return function (dispatch) {\n    axios.post(config.baseURLApi + \"update_appoinment\", {\n      id: data.id,\n      patient_id: data.patient_id,\n      doctor_id: data.doctor_id,\n      date: data.date,\n      time: data.time,\n      interval_time: data.interval_time\n    }).then(function (response) {\n      console.log(\"After===update==\", response);\n      Swal.fire({\n        icon: 'success',\n        type: 'success',\n        text: 'Update successfully!',\n        showConfirmButton: true,\n        timer: 3500\n      });\n      dispatch(updateAppoinmentSuccess(response.data.appoinment));\n      dispatch(fetchAppoinment(response.data.appoinment));\n    }).catch(function (error) {\n      dispatch(fetchAppoinmentFailure(error));\n    });\n  };\n}\nexport function getAppoinment(data) {\n  return function (dispatch) {\n    axios({\n      method: 'get',\n      url: config.baseURLApi + \"get_appoinment/\" + data.id\n    }).then(function (response) {\n      console.log(response);\n      dispatch(editAppoinmentSuccess(response.data.appoinment));\n      return response.data.data;\n    }).catch(function (error) {\n      dispatch(fetchAppoinmentFailure(error));\n    });\n  };\n}\nexport function deleteAppoinment(data) {\n  return function (dispatch) {\n    axios({\n      method: 'delete',\n      url: config.baseURLApi + \"delete_appoinment/\" + data.id\n    }).then(function (response) {\n      dispatch(deleteAppoinmentSuccess(response.data.id));\n      return response.data.data;\n    }).catch(function (error) {\n      dispatch(fetchAppoinmentFailure(error));\n    });\n  };\n} // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}","map":{"version":3,"sources":["D:/30-12/setup 2 new/final file/src/actions/appoinment.js"],"names":["config","axios","Swal","FETCH_APPOINMENT_BEGIN","FETCH_APPOINMENT_SUCCESS","EDIT_APPOINMENT_SUCCESS","FETCH_APPOINMENT_FAILURE","CREATE_APPOINMENT_SUCCESS","UPDATE_APPOINMENT_SUCCESS","DELETE_APPOINMENT_SUCCESS","fetchAppoinmentBegin","type","fetchAppoinmentSuccess","appoinments","payload","updateAppoinmentSuccess","appoinment","createAppoinmentSuccess","deleteAppoinmentSuccess","appoinment_id","editAppoinmentSuccess","fetchAppoinmentFailure","error","fetchAppoinment","dispatch","get","baseURLApi","then","response","data","catch","createAppoinment","console","log","self","post","patient_id","doctor_id","date","time","interval_time","fire","icon","text","showConfirmButton","timer","updateAppoinment","id","getAppoinment","method","url","deleteAppoinment","handleErrors","ok","Error","statusText"],"mappings":"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","sourcesContent":["import config from \"../config.js\";\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nexport const FETCH_APPOINMENT_BEGIN   = 'FETCH_APPOINMENT_BEGIN';\r\nexport const FETCH_APPOINMENT_SUCCESS = 'FETCH_APPOINMENT_SUCCESS';\r\nexport const EDIT_APPOINMENT_SUCCESS = 'EDIT_APPOINMENT_SUCCESS';\r\nexport const FETCH_APPOINMENT_FAILURE = 'FETCH_APPOINMENT_FAILURE';\r\nexport const CREATE_APPOINMENT_SUCCESS = 'CREATE_APPOINMENT_SUCCESS';\r\nexport const UPDATE_APPOINMENT_SUCCESS = 'UPDATE_APPOINMENT_SUCCESS';\r\nexport const DELETE_APPOINMENT_SUCCESS = 'DELETE_APPOINMENT_SUCCESS';\r\n\r\nexport const fetchAppoinmentBegin = () => ({\r\n  type: FETCH_APPOINMENT_BEGIN\r\n});\r\n\r\nexport const fetchAppoinmentSuccess = (appoinments) => ({\r\n  type: FETCH_APPOINMENT_SUCCESS,\r\n  payload: { appoinments }\r\n});\r\n\r\nexport const updateAppoinmentSuccess = (appoinment) => ({\r\n  type: UPDATE_APPOINMENT_SUCCESS,\r\n  payload: { appoinment }\r\n});\r\n\r\nexport const createAppoinmentSuccess = (appoinment) => ({\r\n  type: CREATE_APPOINMENT_SUCCESS,\r\n  payload: { appoinment }\r\n});\r\n\r\nexport const deleteAppoinmentSuccess = (appoinment_id) => ({\r\n  type: DELETE_APPOINMENT_SUCCESS,\r\n  payload: { appoinment_id }\r\n});\r\n\r\nexport const editAppoinmentSuccess = (appoinment) => ({\r\n  type: EDIT_APPOINMENT_SUCCESS,\r\n  payload: { appoinment }\r\n});\r\n\r\nexport const fetchAppoinmentFailure = error => ({\r\n  type: FETCH_APPOINMENT_FAILURE,\r\n  payload: { error }\r\n});\r\n\r\n\r\nexport function fetchAppoinment() {\r\n  return (dispatch) => {\r\n    axios.get(config.baseURLApi+'get_appoinments')\r\n        .then(function (response) {\r\n          dispatch(fetchAppoinmentSuccess(response.data.data));\r\n        })\r\n        .catch(function (error) {\r\n            dispatch(fetchAppoinmentFailure(error))\r\n        })\r\n    }\r\n}\r\n\r\nexport function createAppoinment(data) {\r\n  console.log(data);\r\n  console.log(config.baseURLApi+\"create_appoinment\");\r\n  return (dispatch) => {\r\n  let self = this;\r\n    axios.post(config.baseURLApi+'create_appoinment', {patient_id: data.patient_id, doctor_id: data.doctor_id, date: data.date, time: data.time, interval_time: data.interval_time})\r\n      .then(function (response) {\r\n          Swal.fire({\r\n              icon: 'success',\r\n              type: 'success',\r\n              text: 'New Appoinment added successfully!',\r\n              showConfirmButton: true,\r\n              timer: 3500\r\n          });\r\n          dispatch(createAppoinmentSuccess(response.data.appoinment));\r\n          // window.location.assign('/');\r\n      })\r\n      .catch(function (error) {\r\n          console.log(error);\r\n          dispatch(fetchAppoinmentFailure(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport function updateAppoinment(data) {\r\n  return (dispatch) => {\r\n    axios.post( config.baseURLApi+\"update_appoinment\", {id: data.id, patient_id: data.patient_id, doctor_id: data.doctor_id, date: data.date, time: data.time, interval_time: data.interval_time})\r\n    .then((response) => {\r\n      console.log(\"After===update==\", response);\r\n      Swal.fire({\r\n        icon: 'success',\r\n        type: 'success',\r\n        text: 'Update successfully!',\r\n        showConfirmButton: true,\r\n        timer: 3500\r\n    });\r\n      dispatch(updateAppoinmentSuccess(response.data.appoinment));\r\n      dispatch(fetchAppoinment(response.data.appoinment));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchAppoinmentFailure(error))\r\n    });\r\n    }\r\n}\r\n\r\nexport function getAppoinment(data) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: 'get',\r\n      url: config.baseURLApi+\"get_appoinment/\"+data.id,\r\n      })\r\n    .then((response) => {\r\n      console.log(response);\r\n      dispatch(editAppoinmentSuccess(response.data.appoinment));\r\n      return response.data.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchAppoinmentFailure(error))\r\n    });\r\n    }\r\n}\r\n\r\nexport function deleteAppoinment(data) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: 'delete',\r\n      url: config.baseURLApi+\"delete_appoinment/\"+data.id,\r\n      })\r\n    .then((response) => {\r\n      dispatch(deleteAppoinmentSuccess(response.data.id));\r\n      return response.data.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchAppoinmentFailure(error))\r\n    });\r\n    }\r\n}\r\n// Handle HTTP errors since fetch won't.\r\nfunction handleErrors(response) {\r\n  if (!response.ok) {\r\n    throw Error(response.statusText);\r\n  }\r\n  return response;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}