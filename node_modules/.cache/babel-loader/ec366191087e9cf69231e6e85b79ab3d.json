{"ast":null,"code":"import config from \"../config.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport var FETCH_SERVICE_SUCCESS = 'FETCH_SERVICE_SUCCESS';\nexport var FETCH_BILLING_SUCCESS = 'FETCH_BILLING_SUCCESS';\nexport var FETCH_ORDERED_BILLING_SUCCESS = 'FETCH_ORDERED_BILLING_SUCCESS';\nexport var EDIT_BILLING_SUCCESS = 'EDIT_BILLING_SUCCESS';\nexport var GET_ALL_BILLING_SUCCESS = 'GET_ALL_BILLING_SUCCESS';\nexport var FETCH_BILLING_FAILURE = 'FETCH_BILLING_FAILURE';\nexport var CREATE_BILLING_SUCCESS = 'CREATE_BILLING_SUCCESS';\nexport var UPDATE_BILLING_SUCCESS = 'UPDATE_BILLING_SUCCESS';\nexport var DELETE_BILLING_SUCCESS = 'DELETE_BILLING_SUCCESS';\nexport var FETCH_REMAINIG_BILL_PATIENT_LIST = 'FETCH_REMAINIG_BILL_PATIENT_LIST';\nexport var GET_BILL_NUMBER = 'GET_BILL_NUMBER';\nexport var fetchServiceSuccess = function fetchServiceSuccess(services) {\n  return {\n    type: FETCH_SERVICE_SUCCESS,\n    payload: {\n      services\n    }\n  };\n};\nexport var fetchBillingSuccess = function fetchBillingSuccess(billings) {\n  return {\n    type: FETCH_BILLING_SUCCESS,\n    payload: {\n      billings\n    }\n  };\n};\nexport var fetchRemainingBillPatientListSuccess = function fetchRemainingBillPatientListSuccess(remaining_bill_patients) {\n  return {\n    type: FETCH_REMAINIG_BILL_PATIENT_LIST,\n    payload: {\n      remaining_bill_patients\n    }\n  };\n};\nexport var getBillNumberSuccess = function getBillNumberSuccess(bill_numbers) {\n  return {\n    type: GET_BILL_NUMBER,\n    payload: {\n      bill_numbers\n    }\n  };\n};\nexport var fetchOrderedBillingSuccess = function fetchOrderedBillingSuccess(ordered_billings) {\n  return {\n    type: FETCH_ORDERED_BILLING_SUCCESS,\n    payload: {\n      ordered_billings\n    }\n  };\n};\nexport var updateBillingSuccess = function updateBillingSuccess(billing) {\n  return {\n    type: UPDATE_BILLING_SUCCESS,\n    payload: {\n      billing\n    }\n  };\n};\nexport var createBillingSuccess = function createBillingSuccess(bill) {\n  return {\n    type: CREATE_BILLING_SUCCESS,\n    payload: {\n      bill\n    }\n  };\n};\nexport var deleteBillingSuccess = function deleteBillingSuccess(billing_id) {\n  return {\n    type: DELETE_BILLING_SUCCESS,\n    payload: {\n      billing_id\n    }\n  };\n};\nexport var editBillingSuccess = function editBillingSuccess(billing) {\n  return {\n    type: EDIT_BILLING_SUCCESS,\n    payload: {\n      billing\n    }\n  };\n};\nexport var getALlBillingSuccess = function getALlBillingSuccess(billing) {\n  return {\n    type: GET_ALL_BILLING_SUCCESS,\n    payload: {\n      billing\n    }\n  };\n};\nexport var fetchBillingFailure = function fetchBillingFailure(error) {\n  return {\n    type: FETCH_BILLING_FAILURE,\n    payload: {\n      error\n    }\n  };\n};\nexport function fetchBilling() {\n  return function (dispatch) {\n    axios.get(config.baseURLApi + 'get_billings').then(function (response) {\n      dispatch(fetchBillingSuccess(response.data.data));\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function fetchRemainingBillPatientList() {\n  return function (dispatch) {\n    axios.get(config.baseURLApi + 'remaining_bill_patient_list').then(function (response) {\n      dispatch(fetchRemainingBillPatientListSuccess(response.data.data));\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function getBillNumber(data) {\n  return function (dispatch) {\n    axios.get(config.baseURLApi + 'get_bill_number/' + data.id).then(function (response) {\n      dispatch(getBillNumberSuccess(response.data.data));\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function fetchService() {\n  return function (dispatch) {\n    axios.get(config.baseURLApi + 'getservices').then(function (response) {\n      dispatch(fetchServiceSuccess(response.data.data));\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function fetchOrderedBilling() {\n  return function (dispatch) {\n    axios.get(config.baseURLApi + 'get_bills').then(function (response) {\n      dispatch(fetchOrderedBillingSuccess(response.data.data));\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function createBill(data) {\n  var _this = this;\n\n  console.log(data);\n  console.log(config.baseURLApi + \"generate_bill\");\n  return function (dispatch) {\n    var self = _this;\n    axios.post(config.baseURLApi + 'generate_bill', {\n      id: data.id,\n      amount: data.amount\n    }).then(function (response) {\n      Swal.fire({\n        icon: 'success',\n        type: 'success',\n        text: 'New Billing added successfully!',\n        showConfirmButton: true,\n        timer: 3500\n      });\n      dispatch(createBillingSuccess(response)); // window.location.assign('/');\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function updateBilling(data) {\n  return function (dispatch) {\n    axios.post(config.baseURLApi + \"update_billing\", {\n      id: data.id,\n      session_schedule: data.schedule\n    }).then(function (response) {\n      console.log(\"After===update==\", response);\n      Swal.fire({\n        icon: 'success',\n        type: 'success',\n        text: 'Update successfully!',\n        showConfirmButton: true,\n        timer: 3500\n      });\n      dispatch(updateBillingSuccess(response.data.billing));\n      dispatch(fetchBilling(response.data.billing));\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function getBilling(data) {\n  return function (dispatch) {\n    axios({\n      method: 'get',\n      url: config.baseURLApi + \"get_billing/\" + data.id\n    }).then(function (response) {\n      console.log(response);\n      dispatch(editBillingSuccess(response.data.billing));\n      return response.data.data;\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function getAllBillings(data) {\n  return function (dispatch) {\n    axios({\n      method: 'get',\n      url: config.baseURLApi + \"getbillings\"\n    }).then(function (response) {\n      console.log(response);\n      dispatch(getALlBillingSuccess(response.data.data));\n      return response.data.data;\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}\nexport function deleteBilling(data) {\n  return function (dispatch) {\n    axios({\n      method: 'delete',\n      url: config.baseURLApi + \"delete_billing/\" + data.id\n    }).then(function (response) {\n      dispatch(deleteBillingSuccess(response.data.id));\n      return response.data.data;\n    }).catch(function (error) {\n      dispatch(fetchBillingFailure(error));\n    });\n  };\n}","map":{"version":3,"sources":["D:/30-12/setup 2 new/final file/src/actions/billing.js"],"names":["config","axios","Swal","FETCH_SERVICE_SUCCESS","FETCH_BILLING_SUCCESS","FETCH_ORDERED_BILLING_SUCCESS","EDIT_BILLING_SUCCESS","GET_ALL_BILLING_SUCCESS","FETCH_BILLING_FAILURE","CREATE_BILLING_SUCCESS","UPDATE_BILLING_SUCCESS","DELETE_BILLING_SUCCESS","FETCH_REMAINIG_BILL_PATIENT_LIST","GET_BILL_NUMBER","fetchServiceSuccess","services","type","payload","fetchBillingSuccess","billings","fetchRemainingBillPatientListSuccess","remaining_bill_patients","getBillNumberSuccess","bill_numbers","fetchOrderedBillingSuccess","ordered_billings","updateBillingSuccess","billing","createBillingSuccess","bill","deleteBillingSuccess","billing_id","editBillingSuccess","getALlBillingSuccess","fetchBillingFailure","error","fetchBilling","dispatch","get","baseURLApi","then","response","data","catch","fetchRemainingBillPatientList","getBillNumber","id","fetchService","fetchOrderedBilling","createBill","console","log","self","post","amount","fire","icon","text","showConfirmButton","timer","updateBilling","session_schedule","schedule","getBilling","method","url","getAllBillings","deleteBilling"],"mappings":"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","sourcesContent":["import config from \"../config.js\";\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nexport const FETCH_SERVICE_SUCCESS = 'FETCH_SERVICE_SUCCESS';\r\nexport const FETCH_BILLING_SUCCESS = 'FETCH_BILLING_SUCCESS';\r\nexport const FETCH_ORDERED_BILLING_SUCCESS = 'FETCH_ORDERED_BILLING_SUCCESS';\r\nexport const EDIT_BILLING_SUCCESS = 'EDIT_BILLING_SUCCESS';\r\nexport const GET_ALL_BILLING_SUCCESS = 'GET_ALL_BILLING_SUCCESS';\r\nexport const FETCH_BILLING_FAILURE = 'FETCH_BILLING_FAILURE';\r\nexport const CREATE_BILLING_SUCCESS = 'CREATE_BILLING_SUCCESS';\r\nexport const UPDATE_BILLING_SUCCESS = 'UPDATE_BILLING_SUCCESS';\r\nexport const DELETE_BILLING_SUCCESS = 'DELETE_BILLING_SUCCESS';\r\nexport const FETCH_REMAINIG_BILL_PATIENT_LIST = 'FETCH_REMAINIG_BILL_PATIENT_LIST';\r\nexport const GET_BILL_NUMBER = 'GET_BILL_NUMBER';\r\n\r\n\r\n\r\nexport const fetchServiceSuccess = (services) => ({\r\n  type: FETCH_SERVICE_SUCCESS,\r\n  payload: { services }\r\n});\r\n\r\nexport const fetchBillingSuccess = (billings) => ({\r\n  type: FETCH_BILLING_SUCCESS,\r\n  payload: { billings }\r\n});\r\n\r\nexport const fetchRemainingBillPatientListSuccess = (remaining_bill_patients) => ({\r\n  type: FETCH_REMAINIG_BILL_PATIENT_LIST,\r\n  payload: { remaining_bill_patients }\r\n});\r\n\r\nexport const getBillNumberSuccess = (bill_numbers) => ({\r\n  type: GET_BILL_NUMBER,\r\n  payload: { bill_numbers }\r\n});\r\n\r\nexport const fetchOrderedBillingSuccess = (ordered_billings) => ({\r\n  type: FETCH_ORDERED_BILLING_SUCCESS,\r\n  payload: { ordered_billings }\r\n});\r\n\r\nexport const updateBillingSuccess = (billing) => ({\r\n  type: UPDATE_BILLING_SUCCESS,\r\n  payload: { billing }\r\n});\r\n\r\nexport const createBillingSuccess = (bill) => ({\r\n  type: CREATE_BILLING_SUCCESS,\r\n  payload: { bill }\r\n});\r\n\r\nexport const deleteBillingSuccess = (billing_id) => ({\r\n  type: DELETE_BILLING_SUCCESS,\r\n  payload: { billing_id }\r\n});\r\n\r\nexport const editBillingSuccess = (billing) => ({\r\n  type: EDIT_BILLING_SUCCESS,\r\n  payload: { billing }\r\n});\r\n\r\nexport const getALlBillingSuccess = (billing) => ({\r\n  type: GET_ALL_BILLING_SUCCESS,\r\n  payload: { billing }\r\n});\r\n\r\nexport const fetchBillingFailure = error => ({\r\n  type: FETCH_BILLING_FAILURE,\r\n  payload: { error }\r\n});\r\n\r\n\r\n\r\n\r\nexport function fetchBilling() {\r\n  return (dispatch) => {\r\n    axios.get(config.baseURLApi+'get_billings')\r\n        .then(function (response) {\r\n          dispatch(fetchBillingSuccess(response.data.data));\r\n        })\r\n        .catch(function (error) {\r\n            dispatch(fetchBillingFailure(error))\r\n        })\r\n    }\r\n}\r\n\r\nexport function fetchRemainingBillPatientList() {\r\n  return (dispatch) => {\r\n    axios.get(config.baseURLApi+'remaining_bill_patient_list')\r\n        .then(function (response) {\r\n          dispatch(fetchRemainingBillPatientListSuccess(response.data.data));\r\n        })\r\n        .catch(function (error) {\r\n            dispatch(fetchBillingFailure(error))\r\n        })\r\n    }\r\n}\r\n\r\nexport function getBillNumber(data) {\r\n  return (dispatch) => {\r\n    axios.get(config.baseURLApi+'get_bill_number/'+data.id)\r\n        .then(function (response) {\r\n          dispatch(getBillNumberSuccess(response.data.data));\r\n        })\r\n        .catch(function (error) {\r\n            dispatch(fetchBillingFailure(error))\r\n        })\r\n    }\r\n}\r\n\r\nexport function fetchService() {\r\n  return (dispatch) => {\r\n    axios.get(config.baseURLApi+'getservices')\r\n        .then(function (response) {\r\n          dispatch(fetchServiceSuccess(response.data.data));\r\n        })\r\n        .catch(function (error) {\r\n            dispatch(fetchBillingFailure(error))\r\n        })\r\n    }\r\n}\r\n\r\nexport function fetchOrderedBilling() {\r\n  return (dispatch) => {\r\n    axios.get(config.baseURLApi+'get_bills')\r\n        .then(function (response) {\r\n          dispatch(fetchOrderedBillingSuccess(response.data.data));\r\n        })\r\n        .catch(function (error) {\r\n            dispatch(fetchBillingFailure(error))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport function createBill(data) {\r\n  console.log(data);\r\n  console.log(config.baseURLApi+\"generate_bill\");\r\n  return (dispatch) => {\r\n  let self = this;\r\n    axios.post(config.baseURLApi+'generate_bill', {id: data.id, amount: data.amount})\r\n      .then(function (response) {\r\n          Swal.fire({\r\n              icon: 'success',\r\n              type: 'success',\r\n              text: 'New Billing added successfully!',\r\n              showConfirmButton: true,\r\n              timer: 3500\r\n          });\r\n          dispatch(createBillingSuccess(response));\r\n          // window.location.assign('/');\r\n      })\r\n      .catch(function (error) {\r\n          console.log(error);\r\n          dispatch(fetchBillingFailure(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport function updateBilling(data) {\r\n  return (dispatch) => {\r\n    axios.post( config.baseURLApi+\"update_billing\", {id: data.id, session_schedule: data.schedule})\r\n    .then((response) => {\r\n      console.log(\"After===update==\", response);\r\n      Swal.fire({\r\n        icon: 'success',\r\n        type: 'success',\r\n        text: 'Update successfully!',\r\n        showConfirmButton: true,\r\n        timer: 3500\r\n    });\r\n      dispatch(updateBillingSuccess(response.data.billing));\r\n      dispatch(fetchBilling(response.data.billing));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchBillingFailure(error))\r\n    });\r\n    }\r\n}\r\n\r\nexport function getBilling(data) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: 'get',\r\n      url: config.baseURLApi+\"get_billing/\"+data.id,\r\n      })\r\n    .then((response) => {\r\n      console.log(response);\r\n      dispatch(editBillingSuccess(response.data.billing));\r\n      return response.data.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchBillingFailure(error))\r\n    });\r\n    }\r\n}\r\n\r\nexport function getAllBillings(data) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: 'get',\r\n      url: config.baseURLApi+\"getbillings\"\r\n      })\r\n    .then((response) => {\r\n      console.log(response);\r\n      dispatch(getALlBillingSuccess(response.data.data));\r\n      return response.data.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchBillingFailure(error))\r\n    });\r\n    }\r\n}\r\n\r\nexport function deleteBilling(data) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: 'delete',\r\n      url: config.baseURLApi+\"delete_billing/\"+data.id,\r\n      })\r\n    .then((response) => {\r\n      dispatch(deleteBillingSuccess(response.data.id));\r\n      return response.data.data;\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchBillingFailure(error))\r\n    });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}