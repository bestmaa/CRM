{"ast":null,"code":"import _toConsumableArray from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { FETCH_APPOINMENT_BEGIN, FETCH_APPOINMENT_SUCCESS, FETCH_APPOINMENT_FAILURE, CREATE_APPOINMENT_SUCCESS, UPDATE_APPOINMENT_SUCCESS, EDIT_APPOINMENT_SUCCESS, DELETE_APPOINMENT_SUCCESS } from '../actions/appoinment';\nvar initialState = {\n  appoinments: [],\n  appoinment: null,\n  temp: [],\n  edit: false\n};\nexport default function appoinmentReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_APPOINMENT_BEGIN:\n      console.log(\"begin\"); // Mark the state as \"loading\" so we can show a spinner or something\n      // Also, reset any errors. We're starting fresh.\n\n      return _objectSpread({}, state, {\n        loading: true,\n        error: null\n      });\n\n    case FETCH_APPOINMENT_SUCCESS:\n      return Object.assign({}, state, {\n        appoinments: action.payload.appoinments\n      });\n\n    case CREATE_APPOINMENT_SUCCESS:\n      return Object.assign({}, state, {\n        appoinments: [].concat(_toConsumableArray(state.appoinments), [action.payload.appoinment])\n      });\n\n    case EDIT_APPOINMENT_SUCCESS:\n      return Object.assign({}, state, {\n        appoinment: action.payload.appoinment,\n        edit: true\n      });\n\n    case DELETE_APPOINMENT_SUCCESS:\n      return Object.assign({}, state, {\n        appoinments: _toConsumableArray(state.appoinments.filter(function (a) {\n          return a.id !== parseInt(action.payload.appoinment_id);\n        }))\n      });\n\n    case UPDATE_APPOINMENT_SUCCESS:\n      var index = state.appoinments.findIndex(function (o) {\n        if (o.id === action.payload.appoinment.id) {\n          o.patientID = action.payload.appoinment.patientID;\n          o.doctorID = action.payload.appoinment.doctorID;\n          o.date = action.payload.appoinment.date;\n          o.time = action.payload.appoinment.time;\n        }\n      });\n      return Object.assign({}, state, {\n        appoinment: null,\n        appoinments: state.appoinments\n      });\n\n    case FETCH_APPOINMENT_FAILURE:\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload.error,\n        appoinments: []\n      });\n\n    default:\n      // ALWAYS have a default case in a reducer\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/30-12/setup 2 new/final file/src/reducers/appoinment.js"],"names":["FETCH_APPOINMENT_BEGIN","FETCH_APPOINMENT_SUCCESS","FETCH_APPOINMENT_FAILURE","CREATE_APPOINMENT_SUCCESS","UPDATE_APPOINMENT_SUCCESS","EDIT_APPOINMENT_SUCCESS","DELETE_APPOINMENT_SUCCESS","initialState","appoinments","appoinment","temp","edit","appoinmentReducer","state","action","type","console","log","loading","error","Object","assign","payload","filter","a","id","parseInt","appoinment_id","index","findIndex","o","patientID","doctorID","date","time"],"mappings":"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","sourcesContent":["import {\r\n  FETCH_APPOINMENT_BEGIN,\r\n  FETCH_APPOINMENT_SUCCESS,\r\n  FETCH_APPOINMENT_FAILURE,\r\n  CREATE_APPOINMENT_SUCCESS,\r\n  UPDATE_APPOINMENT_SUCCESS,\r\n  EDIT_APPOINMENT_SUCCESS,\r\n  DELETE_APPOINMENT_SUCCESS\r\n} from '../actions/appoinment';\r\n\r\nconst initialState = {\r\n  appoinments: [],\r\n  appoinment: null,\r\n  temp: [],\r\n  edit: false,\r\n};\r\n\r\nexport default function appoinmentReducer(state = initialState, action) {\r\n  switch(action.type) {\r\n    case FETCH_APPOINMENT_BEGIN:\r\n    console.log(\"begin\");\r\n      // Mark the state as \"loading\" so we can show a spinner or something\r\n      // Also, reset any errors. We're starting fresh.\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n\r\n    case FETCH_APPOINMENT_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          appoinments: action.payload.appoinments,\r\n      });\r\n\r\n    case CREATE_APPOINMENT_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          appoinments: [...state.appoinments, action.payload.appoinment]\r\n      });\r\n\r\n    case EDIT_APPOINMENT_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          appoinment: action.payload.appoinment,\r\n          edit: true\r\n      });\r\n\r\n    case DELETE_APPOINMENT_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          appoinments: [...state.appoinments.filter(a=>a.id !==  parseInt(action.payload.appoinment_id))]\r\n      });\r\n\r\n    case UPDATE_APPOINMENT_SUCCESS:\r\n      var index = state.appoinments.findIndex(function(o){\r\n           if (o.id === action.payload.appoinment.id){\r\n             o.patientID = action.payload.appoinment.patientID\r\n             o.doctorID = action.payload.appoinment.doctorID\r\n             o.date = action.payload.appoinment.date\r\n             o.time = action.payload.appoinment.time\r\n           }\r\n      })\r\n      return Object.assign({}, state, {\r\n          appoinment: null,\r\n          appoinments: state.appoinments\r\n      });\r\n\r\n    case FETCH_APPOINMENT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n        appoinments: []\r\n      };\r\n\r\n\r\n    default:\r\n      // ALWAYS have a default case in a reducer\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}