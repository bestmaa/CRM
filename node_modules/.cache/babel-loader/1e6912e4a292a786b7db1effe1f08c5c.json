{"ast":null,"code":"import _toConsumableArray from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { FETCH_REFERRAL_BEGIN, FETCH_REFERRAL_SUCCESS, FETCH_REFERRAL_FAILURE, CREATE_REFERRAL_SUCCESS, UPDATE_REFERRAL_SUCCESS, EDIT_REFERRAL_SUCCESS, DELETE_REFERRAL_SUCCESS, FETCH_DOCTOR_REFERRAL_SUCCESS } from '../actions/referral';\nvar initialState = {\n  referrals: [],\n  referral: null,\n  temp: [],\n  doctor_referrals: [],\n  edit: false\n};\nexport default function referralReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_REFERRAL_BEGIN:\n      console.log(\"begin\"); // Mark the state as \"loading\" so we can show a spinner or something\n      // Also, reset any errors. We're starting fresh.\n\n      return _objectSpread({}, state, {\n        loading: true,\n        error: null\n      });\n\n    case FETCH_REFERRAL_SUCCESS:\n      return Object.assign({}, state, {\n        referrals: action.payload.referrals\n      });\n\n    case FETCH_DOCTOR_REFERRAL_SUCCESS:\n      return Object.assign({}, state, {\n        doctor_referrals: action.payload.doctor_referrals\n      });\n\n    case CREATE_REFERRAL_SUCCESS:\n      return Object.assign({}, state, {\n        referrals: [].concat(_toConsumableArray(state.referrals), [action.payload.referral])\n      });\n\n    case EDIT_REFERRAL_SUCCESS:\n      return Object.assign({}, state, {\n        referral: action.payload.referral,\n        edit: true\n      });\n\n    case DELETE_REFERRAL_SUCCESS:\n      return Object.assign({}, state, {\n        referrals: _toConsumableArray(state.referrals.filter(function (a) {\n          return a.id !== parseInt(action.payload.referral_id);\n        }))\n      });\n\n    case UPDATE_REFERRAL_SUCCESS:\n      var index = state.referrals.findIndex(function (o) {\n        if (o.id === action.payload.referral.id) {\n          o.referral = action.payload.referral.referral;\n          o.from = action.payload.referral.from;\n          o.refer_to_name = action.payload.referral.refer_to_name;\n          o.refer_to_number = action.payload.referral.refer_to_number;\n        }\n      });\n      return Object.assign({}, state, {\n        referral: null,\n        referrals: state.referrals\n      });\n\n    case FETCH_REFERRAL_FAILURE:\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload.error,\n        referrals: []\n      });\n\n    default:\n      // ALWAYS have a default case in a reducer\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/30-12/setup 2 new/final file/src/reducers/referral.js"],"names":["FETCH_REFERRAL_BEGIN","FETCH_REFERRAL_SUCCESS","FETCH_REFERRAL_FAILURE","CREATE_REFERRAL_SUCCESS","UPDATE_REFERRAL_SUCCESS","EDIT_REFERRAL_SUCCESS","DELETE_REFERRAL_SUCCESS","FETCH_DOCTOR_REFERRAL_SUCCESS","initialState","referrals","referral","temp","doctor_referrals","edit","referralReducer","state","action","type","console","log","loading","error","Object","assign","payload","filter","a","id","parseInt","referral_id","index","findIndex","o","from","refer_to_name","refer_to_number"],"mappings":"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","sourcesContent":["import {\r\n  FETCH_REFERRAL_BEGIN,\r\n  FETCH_REFERRAL_SUCCESS,\r\n  FETCH_REFERRAL_FAILURE,\r\n  CREATE_REFERRAL_SUCCESS,\r\n  UPDATE_REFERRAL_SUCCESS,\r\n  EDIT_REFERRAL_SUCCESS,\r\n  DELETE_REFERRAL_SUCCESS,\r\n  FETCH_DOCTOR_REFERRAL_SUCCESS\r\n} from '../actions/referral';\r\n\r\nconst initialState = {\r\n  referrals: [],\r\n  referral: null,\r\n  temp: [],\r\n  doctor_referrals: [],\r\n  edit: false,\r\n};\r\n\r\nexport default function referralReducer(state = initialState, action) {\r\n  switch(action.type) {\r\n    case FETCH_REFERRAL_BEGIN:\r\n    console.log(\"begin\");\r\n      // Mark the state as \"loading\" so we can show a spinner or something\r\n      // Also, reset any errors. We're starting fresh.\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n\r\n    case FETCH_REFERRAL_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          referrals: action.payload.referrals,\r\n      });\r\n\r\n    case FETCH_DOCTOR_REFERRAL_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          doctor_referrals: action.payload.doctor_referrals,\r\n      });\r\n\r\n    case CREATE_REFERRAL_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          referrals: [...state.referrals, action.payload.referral]\r\n      });\r\n\r\n    case EDIT_REFERRAL_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          referral: action.payload.referral,\r\n          edit: true\r\n      });\r\n\r\n    case DELETE_REFERRAL_SUCCESS:\r\n      return Object.assign({}, state, {\r\n          referrals: [...state.referrals.filter(a=>a.id !==  parseInt(action.payload.referral_id))]\r\n      });\r\n\r\n    case UPDATE_REFERRAL_SUCCESS:\r\n      var index = state.referrals.findIndex(function(o){\r\n           if (o.id === action.payload.referral.id){\r\n             o.referral = action.payload.referral.referral\r\n             o.from = action.payload.referral.from\r\n             o.refer_to_name = action.payload.referral.refer_to_name\r\n             o.refer_to_number = action.payload.referral.refer_to_number\r\n           }\r\n      })\r\n      return Object.assign({}, state, {\r\n          referral: null,\r\n          referrals: state.referrals\r\n      });\r\n\r\n    case FETCH_REFERRAL_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n        referrals: []\r\n      };\r\n\r\n\r\n    default:\r\n      // ALWAYS have a default case in a reducer\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}