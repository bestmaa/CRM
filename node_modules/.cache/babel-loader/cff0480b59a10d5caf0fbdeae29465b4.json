{"ast":null,"code":"import _classCallCheck from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\30-12\\\\setup 2 new\\\\final file\\\\src\\\\pages\\\\counsellor\\\\Counsellor.js\";\nimport React from \"react\";\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Table, Button, Input } from \"reactstrap\";\nimport s from \"./Tables.modules.scss\";\nimport axios from \"axios\";\nimport config from \"../../config.js\";\nimport { toast, ToastContainer } from 'react-toastify';\nimport Swal from 'sweetalert2';\n\nvar Counsellor = /*#__PURE__*/function (_React$Component) {\n  _inherits(Counsellor, _React$Component);\n\n  function Counsellor() {\n    var _this;\n\n    _classCallCheck(this, Counsellor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Counsellor).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"getAllCounsellers\", function () {\n      axios.get(config.baseURLApi + 'getCounsellors').then(function (response) {\n        return response;\n      }).then(function (response) {\n        return _this.setState({\n          counsellors: response.data.data,\n          link: response.data.link\n        });\n      }).catch(function (error) {\n        console.log(error);\n      }).then(function () {});\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onUpload\", function (event, row) {\n      event.preventDefault(); // this.props.dispatch(getAppoinment({id: row.id}));\n\n      _this.setState({\n        id: row.id,\n        modal: true,\n        selectedFile: null\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeHandler\", function (event) {\n      if (event.target.files.length > 0 && event.target.files[0].type == 'application/pdf') {\n        console.log(event.target.files[0]);\n\n        _this.setState({\n          selectedFile: event.target.files[0]\n        });\n      } else {\n        toast.error(\"Please upload only PDF File\");\n        return;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggle\", function () {\n      _this.setState({\n        id: 0,\n        modal: false,\n        selectedFile: null\n      });\n\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"UploadData\", function (event) {\n      event.preventDefault();\n\n      if (_this.state.id != 0) {\n        var data = new FormData();\n        data.append('id', _this.state.id);\n        data.append('file', _this.state.selectedFile);\n        axios.post(config.baseURLApi + 'uploadCounsellorPdf', data, {// receive two parameter endpoint url ,form data\n        }).then(function (res) {\n          // then print response status\n          _this.setState({\n            id: 0,\n            modal: false,\n            selectedFile: null\n          });\n\n          Swal.fire({\n            icon: 'success',\n            type: 'success',\n            text: 'Document uploaded successfully!',\n            showConfirmButton: true,\n            timer: 2000\n          });\n\n          _this.getAllCounsellers();\n\n          console.log(res);\n        });\n      }\n    });\n\n    _this.state = {\n      counsellors: null,\n      id: 0,\n      modal: false,\n      selectedFile: null,\n      link: ''\n    };\n    return _this;\n  }\n\n  _createClass(Counsellor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log(config.baseURLApi);\n      this.getAllCounsellers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: s.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-responsive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        className: \"table-hover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, \"Contact No\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, this.state.counsellors != null ? this.state.counsellors.map(function (counsellor) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }\n        }, counsellor.id), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }\n        }, counsellor.first_name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }\n        }, counsellor.last_name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }\n        }, counsellor.email), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }\n        }, counsellor.number), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }\n        }, counsellor.pdf_blob !== null && counsellor.pdf_blob != '' ? /*#__PURE__*/React.createElement(\"a\", {\n          href: _this2.state.link + counsellor.pdf_blob,\n          target: \"_blank\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: require(\"../../images/file-view.png\"),\n          width: \"25\",\n          height: \"25\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 88\n          }\n        })) : /*#__PURE__*/React.createElement(\"a\", {\n          onClick: function onClick(event) {\n            return _this2.onUpload(event, counsellor);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: require(\"../../images/upload_file.png\"),\n          width: \"25\",\n          height: \"25\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 80\n          }\n        }))));\n      }) : ''))))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }, \"Upload course document\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"purpose\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }\n      }, \"Become A Counsellor(Course)\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"file\",\n        name: \"file\",\n        onChange: this.onChangeHandler,\n        accept: \"application/pdf\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(ModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: function onClick(event) {\n          return _this2.UploadData(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }\n      }, \"Upload\"), ' ', /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return Counsellor;\n}(React.Component);\n\nexport default Counsellor;","map":{"version":3,"sources":["D:/30-12/setup 2 new/final file/src/pages/counsellor/Counsellor.js"],"names":["React","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Table","Button","Input","s","axios","config","toast","ToastContainer","Swal","Counsellor","get","baseURLApi","then","response","setState","counsellors","data","link","catch","error","console","log","event","row","preventDefault","id","modal","selectedFile","target","files","length","type","state","FormData","append","post","res","fire","icon","text","showConfirmButton","timer","getAllCounsellers","root","map","counsellor","first_name","last_name","email","number","pdf_blob","require","onUpload","toggle","onChangeHandler","UploadData","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,KAAnB,EAA0BC,WAA1B,EAAuCC,SAAvC,EAAkDC,WAAlD,EAAgEC,KAAhE,EAAuEC,MAAvE,EAA+EC,KAA/E,QAA4F,YAA5F;AACA,OAAOC,CAAP,MAAc,uBAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAsC,gBAAtC;AACA,OAAOC,IAAP,MAAiB,aAAjB;;IAEMC,U;;;AACJ,wBAAc;AAAA;;AAAA;;AACZ;;AADY,wEAiBM,YAAM;AACxBL,MAAAA,KAAK,CAACM,GAAN,CAAUL,MAAM,CAACM,UAAP,GAAkB,gBAA5B,EACCC,IADD,CACM,UAAUC,QAAV,EAAoB;AACxB,eAAOA,QAAP;AACD,OAHD,EAGGD,IAHH,CAGQ,UAACC,QAAD;AAAA,eAAc,MAAKC,QAAL,CAAc;AAACC,UAAAA,WAAW,EAAEF,QAAQ,CAACG,IAAT,CAAcA,IAA5B;AAAiCC,UAAAA,IAAI,EAAGJ,QAAQ,CAACG,IAAT,CAAcC;AAAtD,SAAd,CAAd;AAAA,OAHR,EAICC,KAJD,CAIO,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAND,EAOCP,IAPD,CAOM,YAAY,CACjB,CARD;AASD,KA3Ba;;AAAA,+DA6BF,UAACU,KAAD,EAAQC,GAAR,EAAgB;AAC1BD,MAAAA,KAAK,CAACE,cAAN,GAD0B,CAE1B;;AACA,YAAKV,QAAL,CAAc;AACZW,QAAAA,EAAE,EAAGF,GAAG,CAACE,EADG;AAEZC,QAAAA,KAAK,EAAE,IAFK;AAGZC,QAAAA,YAAY,EAAG;AAHH,OAAd;AAKD,KArCa;;AAAA,sEAuCE,UAACL,KAAD,EAAS;AAErB,UAAGA,KAAK,CAACM,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,GAA4B,CAA5B,IAAiCR,KAAK,CAACM,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBE,IAAtB,IAA8B,iBAAlE,EAAoF;AAClFX,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACM,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ;;AAEA,cAAKf,QAAL,CAAc;AAACa,UAAAA,YAAY,EAAGL,KAAK,CAACM,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AAAhB,SAAd;AACD,OAJD,MAKI;AACFvB,QAAAA,KAAK,CAACa,KAAN,CAAY,6BAAZ;AACA;AACD;AAGJ,KApDa;;AAAA,6DAsDL,YAAM;AACb,YAAKL,QAAL,CAAc;AACZW,QAAAA,EAAE,EAAG,CADO;AAEZC,QAAAA,KAAK,EAAE,KAFK;AAGZC,QAAAA,YAAY,EAAG;AAHH,OAAd;;AAKA,YAAKb,QAAL,CAAc;AAAEY,QAAAA,KAAK,EAAE,CAAC,MAAKM,KAAL,CAAWN;AAArB,OAAd;AACD,KA7Da;;AAAA,iEA+DD,UAACJ,KAAD,EAAW;AACtBA,MAAAA,KAAK,CAACE,cAAN;;AAEA,UAAG,MAAKQ,KAAL,CAAWP,EAAX,IAAiB,CAApB,EAAsB;AACpB,YAAMT,IAAI,GAAG,IAAIiB,QAAJ,EAAb;AAEAjB,QAAAA,IAAI,CAACkB,MAAL,CAAY,IAAZ,EAAkB,MAAKF,KAAL,CAAWP,EAA7B;AACAT,QAAAA,IAAI,CAACkB,MAAL,CAAY,MAAZ,EAAoB,MAAKF,KAAL,CAAWL,YAA/B;AACAvB,QAAAA,KAAK,CAAC+B,IAAN,CAAW9B,MAAM,CAACM,UAAP,GAAkB,qBAA7B,EAAoDK,IAApD,EAA0D,CAAE;AAAF,SAA1D,EAECJ,IAFD,CAEM,UAAAwB,GAAG,EAAI;AAAE;AAEb,gBAAKtB,QAAL,CAAc;AACZW,YAAAA,EAAE,EAAG,CADO;AAEZC,YAAAA,KAAK,EAAE,KAFK;AAGZC,YAAAA,YAAY,EAAG;AAHH,WAAd;;AAMAnB,UAAAA,IAAI,CAAC6B,IAAL,CAAU;AACNC,YAAAA,IAAI,EAAE,SADA;AAENP,YAAAA,IAAI,EAAE,SAFA;AAGNQ,YAAAA,IAAI,EAAE,iCAHA;AAINC,YAAAA,iBAAiB,EAAE,IAJb;AAKNC,YAAAA,KAAK,EAAE;AALD,WAAV;;AAOA,gBAAKC,iBAAL;;AACAtB,UAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACD,SAnBD;AAqBD;AAEF,KA9Fa;;AAEZ,UAAKJ,KAAL,GAAa;AACXjB,MAAAA,WAAW,EAAE,IADF;AAEXU,MAAAA,EAAE,EAAG,CAFM;AAGXC,MAAAA,KAAK,EAAE,KAHI;AAIXC,MAAAA,YAAY,EAAG,IAJJ;AAKXV,MAAAA,IAAI,EAAG;AALI,KAAb;AAFY;AASb;;;;wCAEkB;AACjB;AACA,WAAKyB,iBAAL;AAED;;;6BAiFQ;AAAA;;AACP,0BACE;AAAK,QAAA,SAAS,EAAEvC,CAAC,CAACwC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,CADF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKX,KAAL,CAAWjB,WAAX,IAA0B,IAA1B,GAAiC,KAAKiB,KAAL,CAAWjB,WAAX,CAAuB6B,GAAvB,CAA2B,UAACC,UAAD;AAAA,4BAC3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKA,UAAU,CAACpB,EAAhB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKoB,UAAU,CAACC,UAAhB,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,UAAU,CAACE,SAAhB,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,UAAU,CAACG,KAAhB,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKH,UAAU,CAACI,MAAhB,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEIJ,UAAU,CAACK,QAAX,KAAwB,IAAxB,IAAgCL,UAAU,CAACK,QAAX,IAAuB,EAAvD,gBAEA;AAAG,UAAA,IAAI,EAAE,MAAI,CAAClB,KAAL,CAAWf,IAAX,GAAgB4B,UAAU,CAACK,QAApC;AAA8C,UAAA,MAAM,EAAC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA+D;AAAK,UAAA,GAAG,EAAEC,OAAO,CAAC,4BAAD,CAAjB;AAAiD,UAAA,KAAK,EAAC,IAAvD;AAA4D,UAAA,MAAM,EAAC,IAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA/D,CAFA,gBAIA;AAAG,UAAA,OAAO,EAAE,iBAAA7B,KAAK;AAAA,mBAAI,MAAI,CAAC8B,QAAL,CAAc9B,KAAd,EAAqBuB,UAArB,CAAJ;AAAA,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAuD;AAAK,UAAA,GAAG,EAAEM,OAAO,CAAC,8BAAD,CAAjB;AAAmD,UAAA,KAAK,EAAC,IAAzD;AAA8D,UAAA,MAAM,EAAC,IAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAvD,CANJ,CANF,CAD2D;AAAA,OAA3B,CAAjC,GAmBC,EApBF,CAZF,CADF,CADF,CADF,CADF,eA2CE,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKnB,KAAL,CAAWN,KAA1B;AAAiC,QAAA,MAAM,EAAE,KAAK2B,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAKA,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF,eAQE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAE,KAAKC,eAHjB;AAIE,QAAA,MAAM,EAAC,iBAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,CADF,CAFF,eAmBE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAE,iBAAChC,KAAD;AAAA,iBAAW,MAAI,CAACiC,UAAL,CAAgBjC,KAAhB,CAAX;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EACsF,GADtF,eAEE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,OAAO,EAAE,KAAK+B,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CAnBF,CA3CF,CADF;AAsED;;;;EAxKsB5D,KAAK,CAAC+D,S;;AA2K/B,eAAe/C,UAAf","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter,  Table, Button, Input } from \"reactstrap\";\r\nimport s from \"./Tables.modules.scss\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config.js\"\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport Swal from 'sweetalert2';\r\n\r\nclass Counsellor extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      counsellors: null,\r\n      id : 0,\r\n      modal: false,\r\n      selectedFile : null,\r\n      link : ''\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    // console.log(config.baseURLApi);\r\n    this.getAllCounsellers()\r\n\r\n  }\r\n\r\n  getAllCounsellers = () => {\r\n    axios.get(config.baseURLApi+'getCounsellors')\r\n    .then(function (response) {\r\n      return response;\r\n    }).then((response) => this.setState({counsellors: response.data.data,link : response.data.link}))\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    })\r\n    .then(function () {\r\n    });\r\n  }\r\n\r\n  onUpload  = (event, row) => {\r\n    event.preventDefault();\r\n    // this.props.dispatch(getAppoinment({id: row.id}));\r\n    this.setState({\r\n      id : row.id,\r\n      modal: true,\r\n      selectedFile : null\r\n    })\r\n  }\r\n\r\n  onChangeHandler=(event)=>{\r\n\r\n      if(event.target.files.length > 0 && event.target.files[0].type == 'application/pdf'){\r\n        console.log(event.target.files[0])\r\n\r\n        this.setState({selectedFile : event.target.files[0]})\r\n      }\r\n      else{\r\n        toast.error(\"Please upload only PDF File\");\r\n        return\r\n      }\r\n\r\n\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      id : 0,\r\n      modal: false,\r\n      selectedFile : null\r\n    })\r\n    this.setState({ modal: !this.state.modal})\r\n  }\r\n\r\n  UploadData = (event) => {\r\n    event.preventDefault();\r\n\r\n    if(this.state.id != 0){\r\n      const data = new FormData()\r\n\r\n      data.append('id', this.state.id)\r\n      data.append('file', this.state.selectedFile)\r\n      axios.post(config.baseURLApi+'uploadCounsellorPdf', data, { // receive two parameter endpoint url ,form data\r\n      })\r\n      .then(res => { // then print response status\r\n\r\n        this.setState({\r\n          id : 0,\r\n          modal: false,\r\n          selectedFile : null\r\n        })\r\n\r\n        Swal.fire({\r\n            icon: 'success',\r\n            type: 'success',\r\n            text: 'Document uploaded successfully!',\r\n            showConfirmButton: true,\r\n            timer: 2000\r\n        });\r\n        this.getAllCounsellers()\r\n        console.log(res)\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.root}>\r\n        <Row>\r\n          <Col lg={12}>\r\n            <div className=\"table-responsive\">\r\n              <Table className=\"table-hover\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>First Name</th>\r\n                    <th>Last Name</th>\r\n                    <th>Email</th>\r\n                    <th>Contact No</th>\r\n                    <th/>\r\n                  </tr>\r\n                </thead>\r\n                {/* eslint-disable */}\r\n                <tbody>\r\n                {this.state.counsellors != null ? this.state.counsellors.map((counsellor) =>\r\n                  <tr>\r\n                    <td>{counsellor.id}</td>\r\n                    <td>{counsellor.first_name}</td>\r\n                    <td>{counsellor.last_name}</td>\r\n                    <td>{counsellor.email}</td>\r\n                    <td>{counsellor.number}</td>\r\n                    <td>\r\n                      {\r\n                        counsellor.pdf_blob !== null && counsellor.pdf_blob != ''\r\n                        ?\r\n                        <a href={this.state.link+counsellor.pdf_blob} target=\"_blank\" ><img src={require(\"../../images/file-view.png\")} width=\"25\" height=\"25\" /></a>\r\n                        :\r\n                        <a onClick={event => this.onUpload(event, counsellor)}><img src={require(\"../../images/upload_file.png\")} width=\"25\" height=\"25\" /></a>\r\n                      }\r\n\r\n\r\n                    </td>\r\n                  </tr>)\r\n                : ''}\r\n                </tbody>\r\n                {/* eslint-enable */}\r\n              </Table>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle} >\r\n          <ModalHeader toggle={this.toggle}>Upload course document</ModalHeader>\r\n          <ModalBody>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"purpose\">Become A Counsellor(Course)</label>\r\n              {/* <Input name=\"purpose\" type='number'\r\n              name=\"purpose\"\r\n              value={this.state.purpose}\r\n              onChange={(e) => this.onDropdownSetStateName(e) }\r\n              required\r\n              /> */}\r\n              <Input\r\n                type=\"file\"\r\n                name=\"file\"\r\n                onChange={this.onChangeHandler}\r\n                accept=\"application/pdf\"\r\n              />\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"primary\" onClick={(event) => this.UploadData(event)}>Upload</Button>{' '}\r\n            <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\r\n        </ModalFooter>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Counsellor;\r\n"]},"metadata":{},"sourceType":"module"}